<main class="homepage">
  @if (publicKey(); as publicKey)
  {
    <mat-tab-group>
      <mat-tab label="Available Events">

        <div class="col d-flex cards">
          @for (event of events; track event)
          {
            <app-event-card
              [name]="event.name"
              [price]="event.price"
              [date]="event.date"
              [country]="event.country"
              [city]="event.city"
              [description]="event.description"
              [imageUrl]="event.imageUrl"
            >
            </app-event-card>
          }
        </div>


      </mat-tab>
      <mat-tab label="Past Events"> Content 2 </mat-tab>
      <mat-tab label="My Tickets"> Content 3 </mat-tab>
    </mat-tab-group>
  }
  @else
  {
    <div class="d-flex justify-content-center">
      <span> Connect your wallet to start using the app </span>
    </div>
  }
</main>

@if (publicKey(); as publicKey)
{
  <div class="add-button">
    <button mat-fab color="primary" aria-label="Example icon button with a delete icon" (click)="open(content)">
      <mat-icon>add</mat-icon>
    </button>
  </div>
}

<ng-template #content let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Create an Event</h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
	</div>
	<div class="modal-body">
		<form>
      <div class="col-12">
        <mat-form-field class="w-100">
          <mat-label>Name</mat-label>
          <input matInput>
        </mat-form-field>
        <mat-form-field class="w-100">
          <mat-label>Number of tickets</mat-label>
          <input matInput>
        </mat-form-field>
        <mat-form-field class="w-100">
          <mat-label>Price</mat-label>
          <input matInput>
        </mat-form-field>
        <mat-form-field class="w-100 z-index">
          <mat-label>Choose a date</mat-label>
          <input matInput [matDatepicker]="picker">
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <mat-form-field class="w-100">
          <mat-label>Addres</mat-label>
          <input matInput>
        </mat-form-field>
        <mat-form-field class="w-100">
          <mat-label>Country</mat-label>
          <mat-select>
            @for (country of countries; track country)
            {
              <mat-option [value]="country.code">{{country.label}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
        <mat-form-field class="w-100">
          <mat-label>City</mat-label>
          <input matInput>
        </mat-form-field>
        <mat-form-field class="w-100">
          <mat-label>Description</mat-label>
          <input matInput>
        </mat-form-field>
      </div>
		</form>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Create</button>
	</div>
</ng-template>
